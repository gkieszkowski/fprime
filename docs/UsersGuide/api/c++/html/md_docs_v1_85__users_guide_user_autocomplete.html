<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>F´ Flight Software - C/C++ Documentation: Autocomplete: Tab Completion for Command-Line Tools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">F´ Flight Software - C/C++ Documentation
   &#160;<span id="projectnumber">NASA-v1.6.0</span>
   </div>
   <div id="projectbrief">A framework for building embedded system applications to NASA flight quality standards.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs_v1_85__users_guide_user_autocomplete.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Autocomplete: Tab Completion for Command-Line Tools </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This guide will walk the user through installing command line tools's autocomplete feature. This works when being run on many common shells including: bash, fish, and tcsh. Due to the support library we use, we are unable to support shells outside of the shells supported by this library.</p>
<p>While you can start using the GDS command line tools immediately after installing F´, turning on autocomplete will require the few additional steps described herein. Using autocomplete is as simple as pressing the <code>[TAB]</code> and the active command line options will fill-in. If more than one option is available, you can hit <code>[TAB]</code> twice to display all possible choices and continue typing until there is only one matching choice left.</p>
<p>This guide will cover:</p><ul>
<li><a href="#installing-autocomplete">Installing Autocomplete</a><ul>
<li><a href="#manual-activation-run-in-each-new-shell">Manual Activation (Run In Each New Shell)</a></li>
<li><a href="#activating-with-python-virtual-environment">Activating With Python Virtual Environment</a></li>
</ul>
</li>
<li><a href="#autocomplete-tool-support">Autocomplete Tool Support</a></li>
<li><a href="#further-information">Further Information</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
<p><img src="../media/tab_complete_commands.gif" alt="An example of tab-completion" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md633"></a>
Installing Autocomplete</h1>
<p>Once F´ is installed the following commands can be used to setup autocomplete. Autocomplete operates by registering some variables into the active shell. Thus, the user has two options to work with these tools: manual setup in each shell and activating along with the virtual environment. Manually activating per-shell requires a manual step, but does not change the Python managed virtual environment file. Activating along with the virtual environment is convenient, but edits a file that is managed by Python and issues may arise across Python versions.</p>
<p><b>Note:</b> it is possible to add these commands to a <code>.bashrc</code> or <code>.cshrc</code> file but this is outside the scope of this guide.</p>
<h2><a class="anchor" id="autotoc_md634"></a>
Manual Activation (Run In Each New Shell)</h2>
<p>These Commands can be run directly in each shell to provide autocomplete. This setup will end when the shell process is closed, so they should be run on each new shell that is opened.</p>
<p><b>Bash:</b> <code>eval "$(register-python-argcomplete fprime-cli)"</code></p>
<p><b>zsh</b>:</p><ol type="1">
<li>Enable <code>bashcompinit</code> by running the following: ```bash autoload -U bashcompinit bashcompinit ``<code></code></li>
<li><code> Run</code>eval "$(register-python-argcomplete fprime-cli)"`</li>
</ol>
<p><b>fish</b>: Run <code>register-python-argcomplete --shell fish fprime-cli | source</code></p>
<p><b>tcsh</b>: Run <code>eval `register-python-argcomplete --shell tcsh fprime-cli`</code></p>
<h2><a class="anchor" id="autotoc_md635"></a>
Activating With Python Virtual Environment</h2>
<p>Since most users run F´ through a virtual environment, it would be easy to place the above commands into the virtual environment activation script. In this way, every time the user activates the environment to work with F´, autocomplete is also activated. However, making these changes change the virtual environment's activation scripts, which could have unanticipated effects should the virtual environment file format change. This is unlikely and reinstalling F´ while omitting this section would fix any problems caused by this.</p>
<p><b>zsh pre-setup</b>: Enable <code>bashcompinit</code> by running the following: </p><div class="fragment"><div class="line">autoload -U bashcompinit</div>
<div class="line">bashcompinit</div>
</div><!-- fragment --><p><b>Bash/zsh</b>: <code>register-python-argcomplete fprime-cli &gt;&gt; $VIRTUAL_ENV/bin/activate</code></p>
<p><b>fish</b>: <code>register-python-argcomplete --shell fish fprime-cli &gt;&gt; $VIRTUAL_ENV/bin/activate.fish</code></p>
<p><b>tcsh</b>: <code>register-python-argcomplete --shell tcsh fprime-cli &gt;&gt; $VIRTUAL_ENV/bin/activate.csh</code></p>
<p><b>Note:</b> to take advantage of these changes immediately, reactivate the virtual environment at this point.</p>
<h1><a class="anchor" id="autotoc_md636"></a>
Autocomplete Tool Support</h1>
<p>Autocomplete is currently available with the <code>fprime-cli</code> tool. Support for <code>fprime-util</code> and <code>fprime-gds</code> is coming soon. Currently, you can use tab completion in the GDS CLI tool to complete sub-command names, options, file paths, and even the available commands on the F´ instance you're running.</p>
<h1><a class="anchor" id="autotoc_md637"></a>
Further Information</h1>
<p>F´ has its CLI tools written in Python, and we've implemented tab completion through the <a href="https://github.com/kislyuk/argcomplete">argcomplete</a> library. If you have any troubleshooting concerns, want to extend these tools, or need to explore more advanced settings, this documentation would be the starting point for troubleshooting.</p>
<h1><a class="anchor" id="autotoc_md638"></a>
Conclusion</h1>
<p>This guide walked the user through several options to install command line autocompletion where it is supported. The user is completely capable of running without this support but it may prove helpful to some users. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
