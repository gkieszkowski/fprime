<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>F´ Flight Software - C/C++ Documentation: fprime-util</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">F´ Flight Software - C/C++ Documentation
   &#160;<span id="projectnumber">NASA-v1.6.0</span>
   </div>
   <div id="projectbrief">A framework for building embedded system applications to NASA flight quality standards.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs_v2_80_80__users_guide_user_fprime-util.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">fprime-util </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <code>fprime-util</code> is a program designed to help developers run the standard development process by automating many of the standard functions built into the build system. It is intended to remove some of the inefficiencies using CMake while keeping the advantages of that build system.</p>
<h2><a class="anchor" id="autotoc_md1349"></a>
Basic Usage</h2>
<div class="fragment"><div class="line">usage: fprime-util [-h] {generate,purge,hash-to-file,info,build,impl,check,coverage,install} ...</div>
<div class="line"> </div>
<div class="line">F prime helper application.</div>
<div class="line"> </div>
<div class="line">optional arguments:</div>
<div class="line">  -h, --help            show this help message and exit</div>
<div class="line"> </div>
<div class="line">subcommands:</div>
<div class="line">  F prime utility command line. Please run one of the commands. For help, run a command with the --help flag.</div>
<div class="line"> </div>
<div class="line">  {generate,purge,hash-to-file,info,build,impl,check,coverage}</div>
<div class="line">    generate            Generate a build cache directory</div>
<div class="line">    purge               Purge build cache directories</div>
<div class="line">    hash-to-file        Converts F prime build hash to filename.</div>
<div class="line">    info                Gets fprime-util contextual information.</div>
<div class="line">    build               Build components, ports, and deployments in the specified directory</div>
<div class="line">    impl                Generate implementation template files in the specified directory</div>
<div class="line">    check               Run unit tests in the specified directory</div>
<div class="line">    coverage            Generate unit test coverage reports in the specified directory</div>
</div><!-- fragment --><p>The <code>fprime-util</code> helper is driven by a series of subcommands listed above. Each perform one aspect of the development process and are briefly described below. The following sections will go into each command's usage in more detail.</p>
<ol type="1">
<li><code>generate</code>: generates build cache directories. It defaults to generating the build cache for release builds, but adding the <code>--ut</code> flag will generate a unit testing build cache. This is the required first step to using the F´ build system and must be run before building an F´ deployment or running unit tests. The <code>purge</code> command can be used to delete all existing build caches.</li>
<li><code>purge</code>: removes the build caches created with generate. This should be used when the build system has not properly detected changes and need to be redone from the beginning.</li>
<li><code>hash-to-file</code>: If F´ assertions are setup to output file hashes instead of file paths (i.e. when <code>#define FW_ASSERT_LEVEL = FW_FILEID_ASSERT</code>), convert a given file hash to a full filepath.</li>
<li><code>info</code>: Print information about location of build caches and <code>fprime-util</code> commands available in the current directory.</li>
<li><code>build</code>: builds the current directory. If in a component directory, it will compile the component library. If in a deployment directory, it will build the binary, the copy build artifacts into installation directory.</li>
<li><code>impl</code>: Autogenerate boilerplate for components and component unit tests. When creating a new component, this command can generate a new skeleton implementation of the component from the *Ai.xml file, saving significant development time. Providing the <code>--ut</code> flag will generate a unit testing skeleton for the component.</li>
<li><code>check</code>: Builds, if necessary, then runs unit tests in current directory. The <code>--all</code> runs all unit tests known to a deployment. The <code>--leak</code> flag will check for memory leaks while running the unit tests.</li>
<li><code>coverage</code>: Similar to check, but calculates and generates unit test code coverage reports.</li>
</ol>
<p>Most <code>fprime-util</code> commands support a common set of flags that can be used to modify command behavior:</p>
<ul>
<li><code>-j JOBS, --jobs JOB</code>: set the number of parallel jobs while compiling. Defaults to 1, but it's recommended to set this to the number of cores on the machine + 1 to speed up compilation. Ex: <code>fprime-util build -j 10</code> will compile a project with 10 simultaneous jobs.</li>
<li><code>--all</code>: run the supplied command in a global deployment-level scope, rather than in the current directory. Ex: <code>fprime-util check</code> runs the unit tests in the current directory, <code>fprime-util check --all</code> runs every available unit test.</li>
<li><code>--ut</code>: apply the supplied command to the unit tests, rather than the default release. Ex: <code>fprime-util build --ut</code> will compile a project's unit tests.</li>
<li><code>-v, --verbose</code>: Produce verbose command output for debugging. Ex: <code>fprime-util build -v</code> will build a project with extra debug output.</li>
<li><code>-p PATH, --path PATH</code>: <code>fprime-util</code> defaults to running in the current working directory. The path flag allows users to override this behavior and manually set the directory <code>fprime-util</code> runs in. Ex: <code>fprime-util check -p SigGen</code> run <code>check</code> in the SigGen subdirectory.</li>
<li><code>-d DEPLOY, --deploy DEPLOY</code>: By default, <code>fprime-util</code> starts in the current working directory and starts moving up until it finds a F´ deployment. The deploy flag allows a user to override this behavior to manually specify a deployment. Ex: <code>fprime-util build -d ~/fprime</code> will try to build the <code>~/fprime</code> deployment.</li>
</ul>
<h2><a class="anchor" id="autotoc_md1350"></a>
Setting Build Platform</h2>
<p>Different F´ deployments will target different operating systems, architectures, and hardware. To support a variety of different platforms, <code>fprime-util</code> allows specifying a target platform to run against. By default, <code>fprime-util</code> will target the <code>native</code> platform and build for the host computer's platform.</p>
<p>To cross compile for a different platform than that host computer, the platform positional argument can be passed to <code>fprime-util</code>.</p>
<p>For example, to cross compile for the Raspberry Pi, the <code>raspberrypi</code> platform can be used:</p>
<div class="fragment"><div class="line">$ fprime-util generate raspberrypi</div>
<div class="line">$ fprime-util build raspberrypi</div>
</div><!-- fragment --><p>If a deployment is targeting a specific platform, the deployment's <code>settings.ini</code> file can be used to override the default platform from <code>native</code> to a platform of your choosing. See <a class="el" href="v2_80_80_2_users_guide_2user_2settings_8md.html">the</a>`settings.ini` guide" for more details. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
